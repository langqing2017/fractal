language: go

go: 
  - 1.11.2

addons:
  homebrew:
    packages:
    - golangci/tap/golangci-lint

install: true

jobs:
  include:
    - name: Build and test on MacOS
      os: osx
      script:
        - go build ${gobuild_args} ./... && go test ${gobuild_args} ./...
    - name: Build and test on Ubuntu Bionic 18.04
      dist: bionic
      script:
        - go build ${gobuild_args} ./... && go test ${gobuild_args} ./...
    - name: Code check
      os: osx
      script:
        - golangci-lint run -D errcheck,structcheck ./...
